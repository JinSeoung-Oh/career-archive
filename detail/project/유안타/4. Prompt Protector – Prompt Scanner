프로젝트명: Prompt Protector – Prompt Scanner
기간: 2024.10

1. 개요
   -1. 금융 및 투자 질의 환경에서 발생할 수 있는 보안 위반 질의(개인정보 요청, 불법 행위, 계좌 기반 요청 등)를 사전 차단하기 위한 프롬프트 스캐너 설계
   -2. 사용자 입력을 재해석하여 표현을 보정(correct_query) 하고, 동시에 보안 규칙 위반 여부를 자동 판별

2. 주요 기여
   -1. System Prompt Template 설계
       -1) 질의 재해석 로직: 시간 지시어를 절대적 날짜로 변환, “매수/매도” 질의 → “전망” 질의로 변환 등
       -2) 보안 규칙(계좌·PII·불법 행위·기밀 데이터 등 7개 Rule)에 따른 위반 판정 구조 설계
       -3) 하나의 입력이 여러 규칙을 위반하더라도 가장 치명적인 항목만 보고하도록 최적화
   -2. 출력 포맷 표준화
       -1) JSON Object 반환: correct_query, security_breach, breach_rule_no, breach_reason
   -3. 보안 로직 정교화
       -1) 표면적 질의뿐만 아니라 합리적으로 추론 가능한 의도까지 고려하도록 설계
       -2) 불필요한 위반 판정 최소화를 위해 “실질적이고 중요한 위반 사항만 보고” 원칙 적용

3. 성과 및 인사이트
   -1. 질의 보호 체계 적용 가능성 검증
   -2. 시스템 프롬프트에 날짜를 고정 삽입해야 과거·현재·미래 인식 오류를 방지할 수 있음을 확인
   -3. 금융 챗봇 맥락에서 PII/불법 행위 차단, 질의 보정 자동화 기능이 결합

4. 한계점
   -1. Rule 기반 설계라 정책에 정의되지 않은 새로운 유형의 보안 위반은 탐지가 어렵다
   -2. 질의 재해석 과정에서 원문 의미가 과도하게 단순화·왜곡될 가능성 존재
   -3. 맥락이 복잡한 질의(예: 다중 조건 포함)에서는 보정 결과의 자연스러움이 떨어질 수 있음
